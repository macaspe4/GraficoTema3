---
title: "GraficoTema3 GrupoI"
output: html_document
date: "2024-02-25"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```




```{r}
library(tidyverse)
library(knitr)
library(htmltools)
library(plotly)
library(ggplot2)
library(datasets)
library(dplyr)
library(extrafont)
library(stringr)

loadfonts(device = "win", quiet = TRUE)
covid_data <- read_csv("./data/owid-covid-data.csv", col_types = cols(date = col_date(format = "%Y-%m-%d")))

selected_countries <- c("United States", "Italy", "France", "Germany", "Canada", "Japan", "United Kingdom", "Spain")

selected_data <- covid_data %>%
  filter(location %in% selected_countries) %>%
  rename(country = location, deaths_per_million = new_deaths_smoothed_per_million)

country_colors <- c(
  "United States" = "#7A4C9A",
  "Italy" = "#2B938D",
  "France" = "#B03608",
  "Germany" = "#399C66",
  "Canada" = "#88313A",
  "Japan" = "#47566E",
  "United Kingdom" = "#D42773",
  "Spain" =  "red"
)

grafico_covid <- ggplot(selected_data, aes(x = date, y = deaths_per_million, color = country, group = country)) + 
  geom_line(data = filter(selected_data, country == "Spain"), size = 1) + 
  geom_path() + 
  scale_y_continuous(breaks = seq(0, 18, by = 2)) +
  scale_x_date(date_labels = "%b %d, %Y", breaks = seq(min(selected_data$date), max(selected_data$date), length.out = 6)) +
  geom_hline(yintercept = c(2, 4, 6, 8, 10, 12, 14, 16, 18), linetype = "dotted", color = "gray", size = 0.5) +
  scale_color_manual(values = country_colors)



```

